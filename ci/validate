#!/usr/bin/env bash
# Full validation suite for andweorc
# Run this before every commit

set -euo pipefail

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
ROOT_DIR="$(dirname "$SCRIPT_DIR")"

cd "$ROOT_DIR"

echo "=== Running full validation ==="
echo ""

echo "--- Format check ---"
"$SCRIPT_DIR/fmt" --check

echo ""
echo "--- Clippy ---"
"$SCRIPT_DIR/clippy"

echo ""
echo "--- Check ---"
"$SCRIPT_DIR/check"

echo ""
echo "--- Tests ---"
"$SCRIPT_DIR/test"

echo ""
echo "--- Deny check ---"
"$SCRIPT_DIR/deny"

echo ""
echo "=== All validations passed ==="
